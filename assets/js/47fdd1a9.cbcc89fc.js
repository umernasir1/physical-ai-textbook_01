"use strict";(globalThis.webpackChunkphysical_ai_textbook=globalThis.webpackChunkphysical_ai_textbook||[]).push([[7509],{4828:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"module1-ros2/ros2-nodes-topics-services","title":"ROS 2 Nodes, Topics, and Services","description":"What is ROS 2?","source":"@site/docs/module1-ros2/ros2-nodes-topics-services.md","sourceDirName":"module1-ros2","slug":"/module1-ros2/ros2-nodes-topics-services","permalink":"/-physical-ai-textbook_01/docs/module1-ros2/ros2-nodes-topics-services","draft":false,"unlisted":false,"editUrl":"https://github.com/umernasir1/physical-ai-textbook/tree/main/docs/module1-ros2/ros2-nodes-topics-services.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"ROS 2 Nodes, Topics, and Services"},"sidebar":"tutorialSidebar","previous":{"title":"Introduction to Physical AI","permalink":"/-physical-ai-textbook_01/docs/module1-ros2/introduction-to-physical-ai"},"next":{"title":"Bridging Python Agents to ROS Controllers using rclpy","permalink":"/-physical-ai-textbook_01/docs/module1-ros2/python-agents-and-rclpy"}}');var r=n(4848),o=n(8453);const t={sidebar_position:2,title:"ROS 2 Nodes, Topics, and Services"},c="ROS 2 Nodes, Topics, and Services",l={},a=[{value:"What is ROS 2?",id:"what-is-ros-2",level:2},{value:"Why ROS 2?",id:"why-ros-2",level:3},{value:"Core Concepts: The Building Blocks",id:"core-concepts-the-building-blocks",level:2},{value:"1. Nodes: Independent Processes",id:"1-nodes-independent-processes",level:3},{value:"2. Topics: Publish-Subscribe Communication",id:"2-topics-publish-subscribe-communication",level:3},{value:"3. Services: Request-Response Communication",id:"3-services-request-response-communication",level:3},{value:"Practical Exercise: Building Your First ROS 2 System",id:"practical-exercise-building-your-first-ros-2-system",level:2},{value:"Key Takeaways",id:"key-takeaways",level:2}];function d(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"ros-2-nodes-topics-and-services",children:"ROS 2 Nodes, Topics, and Services"})}),"\n",(0,r.jsx)(s.h2,{id:"what-is-ros-2",children:"What is ROS 2?"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"ROS 2 (Robot Operating System 2)"})," is an open-source middleware framework for building robot applications. It provides the communication infrastructure that allows different parts of a robot system to work together seamlessly."]}),"\n",(0,r.jsx)(s.h3,{id:"why-ros-2",children:"Why ROS 2?"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Industry Standard"}),": Used by companies like Boston Dynamics, NASA, and Tesla"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Language Agnostic"}),": Write nodes in Python, C++, or other languages"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Distributed Architecture"}),": Run components on multiple machines"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Real-Time Capable"}),": Deterministic communication for time-critical tasks"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Cross-Platform"}),": Works on Linux, Windows, and macOS"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"core-concepts-the-building-blocks",children:"Core Concepts: The Building Blocks"}),"\n",(0,r.jsx)(s.h3,{id:"1-nodes-independent-processes",children:"1. Nodes: Independent Processes"}),"\n",(0,r.jsxs)(s.p,{children:["A ",(0,r.jsx)(s.strong,{children:"node"})," is an independent process that performs a specific computation. Think of nodes as microservices in a robotic system."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Example Nodes:"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"camera_driver"}),": Captures images from a camera"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"object_detector"}),": Identifies objects in images"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"motion_planner"}),": Plans robot movements"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"motor_controller"}),": Sends commands to motors"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Key Characteristics:"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Each node runs independently"}),"\n",(0,r.jsx)(s.li,{children:"Nodes can be started, stopped, or restarted without affecting others"}),"\n",(0,r.jsx)(s.li,{children:"One node crash won't bring down the entire system"}),"\n",(0,r.jsx)(s.li,{children:"Nodes communicate via topics, services, and actions"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"2-topics-publish-subscribe-communication",children:"2. Topics: Publish-Subscribe Communication"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Topics"})," are named channels for one-way data streams. Nodes ",(0,r.jsx)(s.strong,{children:"publish"})," messages to topics, and other nodes ",(0,r.jsx)(s.strong,{children:"subscribe"})," to receive those messages."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Use Case"}),": Streaming sensor data (camera frames, LIDAR scans, IMU readings)"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# Publisher Example (Python)\nimport rclpy\nfrom rclpy.node import Node\nfrom sensor_msgs.msg import Image\n\nclass CameraPublisher(Node):\n    def __init__(self):\n        super().__init__('camera_publisher')\n        self.publisher = self.create_publisher(Image, 'camera/image', 10)\n        self.timer = self.create_timer(0.1, self.publish_image)\n\n    def publish_image(self):\n        msg = Image()\n        # Fill in image data\n        self.publisher.publish(msg)\n        self.get_logger().info('Published image')\n"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# Subscriber Example (Python)\nclass ImageProcessor(Node):\n    def __init__(self):\n        super().__init__('image_processor')\n        self.subscription = self.create_subscription(\n            Image,\n            'camera/image',\n            self.image_callback,\n            10\n        )\n\n    def image_callback(self, msg):\n        self.get_logger().info('Received image')\n        # Process the image\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Topic Characteristics:"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Asynchronous"}),": Publishers don't wait for subscribers"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Many-to-Many"}),": Multiple publishers and subscribers per topic"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Fire-and-Forget"}),": No acknowledgment of receipt"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Best for"}),": High-frequency data streams"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"3-services-request-response-communication",children:"3. Services: Request-Response Communication"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Services"})," provide synchronous request-response communication. A client sends a request to a service, and waits for a response."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Use Case"}),': Triggering actions or querying information (e.g., "Start recording", "Get current pose")']}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# Service Server Example\nfrom example_interfaces.srv import AddTwoInts\n\nclass AddTwoIntsServer(Node):\n    def __init__(self):\n        super().__init__('add_two_ints_server')\n        self.srv = self.create_service(\n            AddTwoInts,\n            'add_two_ints',\n            self.add_two_ints_callback\n        )\n\n    def add_two_ints_callback(self, request, response):\n        response.sum = request.a + request.b\n        self.get_logger().info(f'{request.a} + {request.b} = {response.sum}')\n        return response\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Service Characteristics:"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Synchronous"}),": Client waits for response"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"One-to-One"}),": One service server per service name"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Guaranteed Response"}),": Server must respond (or timeout occurs)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Best for"}),": Infrequent, critical operations"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"practical-exercise-building-your-first-ros-2-system",children:"Practical Exercise: Building Your First ROS 2 System"}),"\n",(0,r.jsx)(s.p,{children:'Let\'s create a simple "talker-listener" system:'}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# Talker (Publisher)\nimport rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass Talker(Node):\n    def __init__(self):\n        super().__init__('talker')\n        self.publisher = self.create_publisher(String, 'chatter', 10)\n        self.timer = self.create_timer(1.0, self.publish_message)\n        self.count = 0\n\n    def publish_message(self):\n        msg = String()\n        msg.data = f'Hello from ROS 2! Count: {self.count}'\n        self.publisher.publish(msg)\n        self.get_logger().info(f'Publishing: \"{msg.data}\"')\n        self.count += 1\n"})}),"\n",(0,r.jsx)(s.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Nodes"})," are independent processes that perform specific tasks"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Topics"})," enable asynchronous many-to-many communication (best for streaming data)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Services"})," provide synchronous request-response communication (best for commands)"]}),"\n",(0,r.jsx)(s.li,{children:"ROS 2 architecture promotes modularity, reusability, and fault tolerance"}),"\n",(0,r.jsx)(s.li,{children:"Quality of Service (QoS) policies allow fine-tuning of communication behavior"}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Next"}),": We'll learn how to bridge Python AI agents to ROS 2 controllers using ",(0,r.jsx)(s.code,{children:"rclpy"}),"."]})]})}function h(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>c});var i=n(6540);const r={},o=i.createContext(r);function t(e){const s=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(o.Provider,{value:s},e.children)}}}]);