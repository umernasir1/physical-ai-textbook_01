"use strict";(globalThis.webpackChunkphysical_ai_textbook=globalThis.webpackChunkphysical_ai_textbook||[]).push([[2194],{2482:(n,i,e)=>{e.r(i),e.d(i,{assets:()=>s,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"module1-ros2/urdf-for-humanoids","title":"Understanding URDF for Humanoids","description":"Introduction to URDF","source":"@site/docs/module1-ros2/urdf-for-humanoids.md","sourceDirName":"module1-ros2","slug":"/module1-ros2/urdf-for-humanoids","permalink":"/-physical-ai-textbook_01/docs/module1-ros2/urdf-for-humanoids","draft":false,"unlisted":false,"editUrl":"https://github.com/umernasir1/physical-ai-textbook/tree/main/docs/module1-ros2/urdf-for-humanoids.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Understanding URDF for Humanoids"},"sidebar":"tutorialSidebar","previous":{"title":"Bridging Python Agents to ROS Controllers using rclpy","permalink":"/-physical-ai-textbook_01/docs/module1-ros2/python-agents-and-rclpy"},"next":{"title":"Module 2: The Digital Twin (Gazebo & Unity)","permalink":"/-physical-ai-textbook_01/docs/category/module-2-the-digital-twin-gazebo--unity"}}');var l=e(4848),t=e(8453);const o={sidebar_position:4,title:"Understanding URDF for Humanoids"},a="Understanding URDF for Humanoids",s={},d=[{value:"Introduction to URDF",id:"introduction-to-urdf",level:2},{value:"URDF Structure: Core Components",id:"urdf-structure-core-components",level:2},{value:"1. Links: The Rigid Bodies",id:"1-links-the-rigid-bodies",level:3},{value:"2. Joints: Connecting Links",id:"2-joints-connecting-links",level:3},{value:"Humanoid-Specific Kinematic Chains",id:"humanoid-specific-kinematic-chains",level:2},{value:"Lower Body Structure",id:"lower-body-structure",level:3},{value:"Calculating Inertial Properties",id:"calculating-inertial-properties",level:2},{value:"Mass Distribution Guidelines (70kg humanoid):",id:"mass-distribution-guidelines-70kg-humanoid",level:3},{value:"Inertia Tensor Calculation",id:"inertia-tensor-calculation",level:3},{value:"Python Helper for Inertia Calculation",id:"python-helper-for-inertia-calculation",level:3},{value:"Advanced URDF Features for Humanoids",id:"advanced-urdf-features-for-humanoids",level:2},{value:"1. Using Xacro for Modularity",id:"1-using-xacro-for-modularity",level:3},{value:"2. Adding Sensors to URDF",id:"2-adding-sensors-to-urdf",level:3},{value:"Best Practices for Humanoid URDF",id:"best-practices-for-humanoid-urdf",level:2},{value:"1. Joint Limit Safety",id:"1-joint-limit-safety",level:3},{value:"2. Collision Geometry Simplification",id:"2-collision-geometry-simplification",level:3},{value:"3. Gazebo-Specific Tags",id:"3-gazebo-specific-tags",level:3},{value:"Validating Your URDF",id:"validating-your-urdf",level:2},{value:"Command-Line Validation",id:"command-line-validation",level:3},{value:"Python Validation Script",id:"python-validation-script",level:3},{value:"Complete Minimal Humanoid Example",id:"complete-minimal-humanoid-example",level:2},{value:"Learning Outcomes",id:"learning-outcomes",level:2},{value:"Key Takeaways",id:"key-takeaways",level:2}];function c(n){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.header,{children:(0,l.jsx)(i.h1,{id:"understanding-urdf-for-humanoids",children:"Understanding URDF for Humanoids"})}),"\n",(0,l.jsx)(i.h2,{id:"introduction-to-urdf",children:"Introduction to URDF"}),"\n",(0,l.jsxs)(i.p,{children:[(0,l.jsx)(i.strong,{children:"URDF (Unified Robot Description Format)"})," is an XML-based format for describing robot structures in ROS. It defines the kinematic and dynamic properties of a robot, including its links (rigid bodies), joints, sensors, and visual/collision geometries."]}),"\n",(0,l.jsx)(i.p,{children:"For humanoid robots, URDF becomes critical because:"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"Humanoids have complex kinematic chains (legs, arms, spine, head)"}),"\n",(0,l.jsx)(i.li,{children:"Accurate mass distribution affects balance and locomotion"}),"\n",(0,l.jsx)(i.li,{children:"Joint limits and dynamics must match real hardware"}),"\n",(0,l.jsx)(i.li,{children:"Collision geometries prevent self-intersection during motion planning"}),"\n"]}),"\n",(0,l.jsx)(i.h2,{id:"urdf-structure-core-components",children:"URDF Structure: Core Components"}),"\n",(0,l.jsx)(i.h3,{id:"1-links-the-rigid-bodies",children:"1. Links: The Rigid Bodies"}),"\n",(0,l.jsxs)(i.p,{children:["A ",(0,l.jsx)(i.strong,{children:"link"})," represents a rigid body in the robot structure. Each link has:"]}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"Visual geometry"}),": What you see in simulators"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"Collision geometry"}),": For physics calculations (usually simplified)"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"Inertial properties"}),": Mass, center of mass, inertia tensor"]}),"\n"]}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-xml",children:'<link name="torso">\n  \x3c!-- Visual representation --\x3e\n  <visual>\n    <geometry>\n      <box size="0.3 0.4 0.6"/>\n    </geometry>\n    <material name="blue">\n      <color rgba="0 0 1 1"/>\n    </material>\n  </visual>\n\n  \x3c!-- Collision representation (simplified) --\x3e\n  <collision>\n    <geometry>\n      <box size="0.3 0.4 0.6"/>\n    </geometry>\n  </collision>\n\n  \x3c!-- Physical properties --\x3e\n  <inertial>\n    <mass value="30.0"/>\n    <origin xyz="0 0 0.3"/>\n    <inertia ixx="2.5" ixy="0.0" ixz="0.0"\n             iyy="2.5" iyz="0.0" izz="0.5"/>\n  </inertial>\n</link>\n'})}),"\n",(0,l.jsx)(i.h3,{id:"2-joints-connecting-links",children:"2. Joints: Connecting Links"}),"\n",(0,l.jsxs)(i.p,{children:[(0,l.jsx)(i.strong,{children:"Joints"})," define how links move relative to each other. Key joint types for humanoids:"]}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.strong,{children:"Revolute (Rotational):"})}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-xml",children:'<joint name="left_hip_pitch" type="revolute">\n  <parent link="pelvis"/>\n  <child link="left_thigh"/>\n  <origin xyz="0 0.1 0" rpy="0 0 0"/>\n  <axis xyz="0 1 0"/>\n  <limit lower="-1.57" upper="1.57" effort="100" velocity="3.0"/>\n  <dynamics damping="1.0" friction="0.5"/>\n</joint>\n'})}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.strong,{children:"Continuous (Unlimited rotation):"})}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-xml",children:'<joint name="wheel_joint" type="continuous">\n  <parent link="base"/>\n  <child link="wheel"/>\n  <axis xyz="0 0 1"/>\n</joint>\n'})}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.strong,{children:"Fixed (No movement):"})}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-xml",children:'<joint name="camera_mount" type="fixed">\n  <parent link="head"/>\n  <child link="camera"/>\n  <origin xyz="0.05 0 0.1" rpy="0 0 0"/>\n</joint>\n'})}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.strong,{children:"Prismatic (Linear motion):"})}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-xml",children:'<joint name="telescope_extension" type="prismatic">\n  <parent link="base"/>\n  <child link="extension"/>\n  <axis xyz="0 0 1"/>\n  <limit lower="0" upper="0.5" effort="50" velocity="0.1"/>\n</joint>\n'})}),"\n",(0,l.jsx)(i.h2,{id:"humanoid-specific-kinematic-chains",children:"Humanoid-Specific Kinematic Chains"}),"\n",(0,l.jsx)(i.h3,{id:"lower-body-structure",children:"Lower Body Structure"}),"\n",(0,l.jsx)(i.p,{children:"A typical humanoid lower body includes:"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"Pelvis"})," (base link)"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"Hip joints"})," (3 DOF per leg: yaw, roll, pitch)"]}),"\n",(0,l.jsx)(i.li,{children:(0,l.jsx)(i.strong,{children:"Thigh links"})}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"Knee joints"})," (1 DOF: pitch)"]}),"\n",(0,l.jsx)(i.li,{children:(0,l.jsx)(i.strong,{children:"Shin links"})}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"Ankle joints"})," (2 DOF: pitch, roll)"]}),"\n",(0,l.jsx)(i.li,{children:(0,l.jsx)(i.strong,{children:"Feet links"})}),"\n"]}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-xml",children:'\x3c!-- Left Leg Chain --\x3e\n<link name="pelvis"/>\n\n\x3c!-- Hip Yaw --\x3e\n<joint name="left_hip_yaw" type="revolute">\n  <parent link="pelvis"/>\n  <child link="left_hip_yaw_link"/>\n  <origin xyz="0 0.1 -0.1" rpy="0 0 0"/>\n  <axis xyz="0 0 1"/>\n  <limit lower="-0.785" upper="0.785" effort="150" velocity="2.0"/>\n</joint>\n\n<link name="left_hip_yaw_link">\n  <inertial>\n    <mass value="0.5"/>\n    <origin xyz="0 0 0"/>\n    <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>\n  </inertial>\n</link>\n\n\x3c!-- Hip Roll --\x3e\n<joint name="left_hip_roll" type="revolute">\n  <parent link="left_hip_yaw_link"/>\n  <child link="left_hip_roll_link"/>\n  <origin xyz="0 0 0" rpy="0 0 0"/>\n  <axis xyz="1 0 0"/>\n  <limit lower="-0.524" upper="0.524" effort="150" velocity="2.0"/>\n</joint>\n\n<link name="left_hip_roll_link">\n  <inertial>\n    <mass value="0.5"/>\n    <origin xyz="0 0 0"/>\n    <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>\n  </inertial>\n</link>\n\n\x3c!-- Hip Pitch --\x3e\n<joint name="left_hip_pitch" type="revolute">\n  <parent link="left_hip_roll_link"/>\n  <child link="left_thigh"/>\n  <origin xyz="0 0 0" rpy="0 0 0"/>\n  <axis xyz="0 1 0"/>\n  <limit lower="-1.57" upper="1.57" effort="200" velocity="2.5"/>\n</joint>\n\n<link name="left_thigh">\n  <visual>\n    <geometry>\n      <cylinder length="0.4" radius="0.05"/>\n    </geometry>\n    <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n  </visual>\n  <collision>\n    <geometry>\n      <cylinder length="0.4" radius="0.05"/>\n    </geometry>\n    <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n  </collision>\n  <inertial>\n    <mass value="8.0"/>\n    <origin xyz="0 0 -0.2"/>\n    <inertia ixx="0.11" ixy="0" ixz="0" iyy="0.11" iyz="0" izz="0.02"/>\n  </inertial>\n</link>\n\n\x3c!-- Knee --\x3e\n<joint name="left_knee" type="revolute">\n  <parent link="left_thigh"/>\n  <child link="left_shin"/>\n  <origin xyz="0 0 -0.4" rpy="0 0 0"/>\n  <axis xyz="0 1 0"/>\n  <limit lower="0" upper="2.36" effort="200" velocity="2.5"/>\n</joint>\n\n<link name="left_shin">\n  <visual>\n    <geometry>\n      <cylinder length="0.4" radius="0.04"/>\n    </geometry>\n    <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n  </visual>\n  <collision>\n    <geometry>\n      <cylinder length="0.4" radius="0.04"/>\n    </geometry>\n    <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n  </collision>\n  <inertial>\n    <mass value="6.0"/>\n    <origin xyz="0 0 -0.2"/>\n    <inertia ixx="0.08" ixy="0" ixz="0" iyy="0.08" iyz="0" izz="0.015"/>\n  </inertial>\n</link>\n\n\x3c!-- Ankle Pitch --\x3e\n<joint name="left_ankle_pitch" type="revolute">\n  <parent link="left_shin"/>\n  <child link="left_ankle_pitch_link"/>\n  <origin xyz="0 0 -0.4" rpy="0 0 0"/>\n  <axis xyz="0 1 0"/>\n  <limit lower="-0.785" upper="0.785" effort="100" velocity="2.0"/>\n</joint>\n\n<link name="left_ankle_pitch_link">\n  <inertial>\n    <mass value="0.3"/>\n    <origin xyz="0 0 0"/>\n    <inertia ixx="0.005" ixy="0" ixz="0" iyy="0.005" iyz="0" izz="0.005"/>\n  </inertial>\n</link>\n\n\x3c!-- Ankle Roll --\x3e\n<joint name="left_ankle_roll" type="revolute">\n  <parent link="left_ankle_pitch_link"/>\n  <child link="left_foot"/>\n  <origin xyz="0 0 0" rpy="0 0 0"/>\n  <axis xyz="1 0 0"/>\n  <limit lower="-0.524" upper="0.524" effort="100" velocity="2.0"/>\n</joint>\n\n<link name="left_foot">\n  <visual>\n    <geometry>\n      <box size="0.2 0.1 0.05"/>\n    </geometry>\n    <origin xyz="0.05 0 -0.025" rpy="0 0 0"/>\n  </visual>\n  <collision>\n    <geometry>\n      <box size="0.2 0.1 0.05"/>\n    </geometry>\n    <origin xyz="0.05 0 -0.025" rpy="0 0 0"/>\n  </collision>\n  <inertial>\n    <mass value="1.5"/>\n    <origin xyz="0.05 0 -0.025"/>\n    <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.015" iyz="0" izz="0.01"/>\n  </inertial>\n</link>\n'})}),"\n",(0,l.jsx)(i.h2,{id:"calculating-inertial-properties",children:"Calculating Inertial Properties"}),"\n",(0,l.jsx)(i.p,{children:"Accurate inertial properties are critical for realistic simulation and control."}),"\n",(0,l.jsx)(i.h3,{id:"mass-distribution-guidelines-70kg-humanoid",children:"Mass Distribution Guidelines (70kg humanoid):"}),"\n",(0,l.jsxs)(i.table,{children:[(0,l.jsx)(i.thead,{children:(0,l.jsxs)(i.tr,{children:[(0,l.jsx)(i.th,{children:"Body Part"}),(0,l.jsx)(i.th,{children:"Approximate Mass"}),(0,l.jsx)(i.th,{children:"Percentage"})]})}),(0,l.jsxs)(i.tbody,{children:[(0,l.jsxs)(i.tr,{children:[(0,l.jsx)(i.td,{children:"Head"}),(0,l.jsx)(i.td,{children:"5.0 kg"}),(0,l.jsx)(i.td,{children:"7%"})]}),(0,l.jsxs)(i.tr,{children:[(0,l.jsx)(i.td,{children:"Torso"}),(0,l.jsx)(i.td,{children:"30.0 kg"}),(0,l.jsx)(i.td,{children:"43%"})]}),(0,l.jsxs)(i.tr,{children:[(0,l.jsx)(i.td,{children:"Upper Arms (each)"}),(0,l.jsx)(i.td,{children:"2.5 kg"}),(0,l.jsx)(i.td,{children:"3.5% each"})]}),(0,l.jsxs)(i.tr,{children:[(0,l.jsx)(i.td,{children:"Forearms (each)"}),(0,l.jsx)(i.td,{children:"1.5 kg"}),(0,l.jsx)(i.td,{children:"2.1% each"})]}),(0,l.jsxs)(i.tr,{children:[(0,l.jsx)(i.td,{children:"Hands (each)"}),(0,l.jsx)(i.td,{children:"0.5 kg"}),(0,l.jsx)(i.td,{children:"0.7% each"})]}),(0,l.jsxs)(i.tr,{children:[(0,l.jsx)(i.td,{children:"Thighs (each)"}),(0,l.jsx)(i.td,{children:"8.0 kg"}),(0,l.jsx)(i.td,{children:"11.4% each"})]}),(0,l.jsxs)(i.tr,{children:[(0,l.jsx)(i.td,{children:"Shins (each)"}),(0,l.jsx)(i.td,{children:"6.0 kg"}),(0,l.jsx)(i.td,{children:"8.6% each"})]}),(0,l.jsxs)(i.tr,{children:[(0,l.jsx)(i.td,{children:"Feet (each)"}),(0,l.jsx)(i.td,{children:"1.5 kg"}),(0,l.jsx)(i.td,{children:"2.1% each"})]})]})]}),"\n",(0,l.jsx)(i.h3,{id:"inertia-tensor-calculation",children:"Inertia Tensor Calculation"}),"\n",(0,l.jsx)(i.p,{children:"For simple geometric shapes:"}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.strong,{children:"Cylinder (along z-axis):"})}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{children:"Ixx = Iyy = (1/12) * m * (3r\xb2 + h\xb2)\nIzz = (1/2) * m * r\xb2\n"})}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.strong,{children:"Box:"})}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{children:"Ixx = (1/12) * m * (h\xb2 + d\xb2)\nIyy = (1/12) * m * (w\xb2 + d\xb2)\nIzz = (1/12) * m * (w\xb2 + h\xb2)\n"})}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.strong,{children:"Sphere:"})}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{children:"Ixx = Iyy = Izz = (2/5) * m * r\xb2\n"})}),"\n",(0,l.jsx)(i.h3,{id:"python-helper-for-inertia-calculation",children:"Python Helper for Inertia Calculation"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-python",children:"import numpy as np\n\ndef cylinder_inertia(mass, radius, height):\n    \"\"\"Calculate inertia tensor for a cylinder\"\"\"\n    ixx = iyy = (1/12) * mass * (3 * radius**2 + height**2)\n    izz = 0.5 * mass * radius**2\n    return {'ixx': ixx, 'iyy': iyy, 'izz': izz}\n\ndef box_inertia(mass, width, height, depth):\n    \"\"\"Calculate inertia tensor for a box\"\"\"\n    ixx = (1/12) * mass * (height**2 + depth**2)\n    iyy = (1/12) * mass * (width**2 + depth**2)\n    izz = (1/12) * mass * (width**2 + height**2)\n    return {'ixx': ixx, 'iyy': iyy, 'izz': izz}\n\n# Example: Calculate thigh inertia\nthigh_mass = 8.0  # kg\nthigh_radius = 0.05  # m\nthigh_length = 0.4  # m\n\ninertia = cylinder_inertia(thigh_mass, thigh_radius, thigh_length)\nprint(f\"Thigh inertia: {inertia}\")\n# Output: {'ixx': 0.107, 'iyy': 0.107, 'izz': 0.01}\n"})}),"\n",(0,l.jsx)(i.h2,{id:"advanced-urdf-features-for-humanoids",children:"Advanced URDF Features for Humanoids"}),"\n",(0,l.jsx)(i.h3,{id:"1-using-xacro-for-modularity",children:"1. Using Xacro for Modularity"}),"\n",(0,l.jsxs)(i.p,{children:[(0,l.jsx)(i.strong,{children:"Xacro"})," (XML Macros) allows you to create reusable URDF components."]}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="humanoid">\n\n  \x3c!-- Define properties --\x3e\n  <xacro:property name="thigh_length" value="0.4"/>\n  <xacro:property name="thigh_radius" value="0.05"/>\n  <xacro:property name="thigh_mass" value="8.0"/>\n\n  \x3c!-- Macro for creating a leg --\x3e\n  <xacro:macro name="leg" params="prefix reflect">\n\n    \x3c!-- Hip Yaw Joint --\x3e\n    <joint name="${prefix}_hip_yaw" type="revolute">\n      <parent link="pelvis"/>\n      <child link="${prefix}_hip_yaw_link"/>\n      <origin xyz="0 ${reflect * 0.1} -0.1" rpy="0 0 0"/>\n      <axis xyz="0 0 1"/>\n      <limit lower="-0.785" upper="0.785" effort="150" velocity="2.0"/>\n    </joint>\n\n    <link name="${prefix}_hip_yaw_link">\n      <inertial>\n        <mass value="0.5"/>\n        <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>\n      </inertial>\n    </link>\n\n    \x3c!-- Additional joints and links... --\x3e\n\n  </xacro:macro>\n\n  \x3c!-- Base link --\x3e\n  <link name="pelvis">\n    <visual>\n      <geometry>\n        <box size="0.3 0.4 0.2"/>\n      </geometry>\n    </visual>\n    <inertial>\n      <mass value="15.0"/>\n      <inertia ixx="0.2" ixy="0" ixz="0" iyy="0.3" iyz="0" izz="0.2"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Instantiate both legs --\x3e\n  <xacro:leg prefix="left" reflect="1"/>\n  <xacro:leg prefix="right" reflect="-1"/>\n\n</robot>\n'})}),"\n",(0,l.jsx)(i.h3,{id:"2-adding-sensors-to-urdf",children:"2. Adding Sensors to URDF"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-xml",children:'\x3c!-- IMU Sensor --\x3e\n<link name="imu_link"/>\n\n<joint name="imu_joint" type="fixed">\n  <parent link="torso"/>\n  <child link="imu_link"/>\n  <origin xyz="0 0 0.3" rpy="0 0 0"/>\n</joint>\n\n<gazebo reference="imu_link">\n  <sensor name="imu_sensor" type="imu">\n    <always_on>true</always_on>\n    <update_rate>100</update_rate>\n    <imu>\n      <angular_velocity>\n        <x>\n          <noise type="gaussian">\n            <mean>0.0</mean>\n            <stddev>0.0002</stddev>\n          </noise>\n        </x>\n        <y>\n          <noise type="gaussian">\n            <mean>0.0</mean>\n            <stddev>0.0002</stddev>\n          </noise>\n        </y>\n        <z>\n          <noise type="gaussian">\n            <mean>0.0</mean>\n            <stddev>0.0002</stddev>\n          </noise>\n        </z>\n      </angular_velocity>\n    </imu>\n    <plugin name="imu_plugin" filename="libgazebo_ros_imu_sensor.so">\n      <ros>\n        <namespace>/imu</namespace>\n        <remapping>~/out:=data</remapping>\n      </ros>\n    </plugin>\n  </sensor>\n</gazebo>\n\n\x3c!-- Camera Sensor --\x3e\n<link name="camera_link">\n  <visual>\n    <geometry>\n      <box size="0.05 0.05 0.05"/>\n    </geometry>\n  </visual>\n</link>\n\n<joint name="camera_joint" type="fixed">\n  <parent link="head"/>\n  <child link="camera_link"/>\n  <origin xyz="0.1 0 0.05" rpy="0 0 0"/>\n</joint>\n\n<gazebo reference="camera_link">\n  <sensor name="camera" type="camera">\n    <update_rate>30</update_rate>\n    <camera>\n      <horizontal_fov>1.3962634</horizontal_fov>\n      <image>\n        <width>640</width>\n        <height>480</height>\n        <format>R8G8B8</format>\n      </image>\n      <clip>\n        <near>0.1</near>\n        <far>100</far>\n      </clip>\n    </camera>\n    <plugin name="camera_controller" filename="libgazebo_ros_camera.so">\n      <ros>\n        <namespace>/camera</namespace>\n        <remapping>image_raw:=image_raw</remapping>\n        <remapping>camera_info:=camera_info</remapping>\n      </ros>\n    </plugin>\n  </sensor>\n</gazebo>\n'})}),"\n",(0,l.jsx)(i.h2,{id:"best-practices-for-humanoid-urdf",children:"Best Practices for Humanoid URDF"}),"\n",(0,l.jsx)(i.h3,{id:"1-joint-limit-safety",children:"1. Joint Limit Safety"}),"\n",(0,l.jsx)(i.p,{children:"Always define realistic joint limits based on human biomechanics:"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-xml",children:'\x3c!-- Knee can only bend forward (0 to ~135\xb0) --\x3e\n<limit lower="0" upper="2.356" effort="200" velocity="2.5"/>\n\n\x3c!-- Elbow bends backward (0 to ~150\xb0) --\x3e\n<limit lower="-2.618" upper="0" effort="100" velocity="3.0"/>\n'})}),"\n",(0,l.jsx)(i.h3,{id:"2-collision-geometry-simplification",children:"2. Collision Geometry Simplification"}),"\n",(0,l.jsx)(i.p,{children:"Use simplified collision shapes for performance:"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-xml",children:'<visual>\n  <geometry>\n    <mesh filename="package://humanoid_description/meshes/thigh_detailed.stl"/>\n  </geometry>\n</visual>\n\n<collision>\n  \x3c!-- Simplified cylinder for collision detection --\x3e\n  <geometry>\n    <cylinder length="0.4" radius="0.06"/>\n  </geometry>\n  <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n</collision>\n'})}),"\n",(0,l.jsx)(i.h3,{id:"3-gazebo-specific-tags",children:"3. Gazebo-Specific Tags"}),"\n",(0,l.jsx)(i.p,{children:"Add Gazebo properties for realistic simulation:"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-xml",children:'<gazebo reference="left_foot">\n  <mu1>1.0</mu1>  \x3c!-- Friction coefficient 1 --\x3e\n  <mu2>1.0</mu2>  \x3c!-- Friction coefficient 2 --\x3e\n  <kp>1000000.0</kp>  \x3c!-- Contact stiffness --\x3e\n  <kd>100.0</kd>  \x3c!-- Contact damping --\x3e\n  <material>Gazebo/Grey</material>\n</gazebo>\n'})}),"\n",(0,l.jsx)(i.h2,{id:"validating-your-urdf",children:"Validating Your URDF"}),"\n",(0,l.jsx)(i.h3,{id:"command-line-validation",children:"Command-Line Validation"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-bash",children:"# Check URDF syntax\ncheck_urdf my_humanoid.urdf\n\n# Convert Xacro to URDF\nxacro my_humanoid.xacro > my_humanoid.urdf\n\n# Visualize in RViz\nros2 launch urdf_tutorial display.launch.py model:=my_humanoid.urdf\n"})}),"\n",(0,l.jsx)(i.h3,{id:"python-validation-script",children:"Python Validation Script"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-python",children:'#!/usr/bin/env python3\nimport xml.etree.ElementTree as ET\n\ndef validate_urdf(urdf_path):\n    """Basic URDF validation"""\n    tree = ET.parse(urdf_path)\n    root = tree.getroot()\n\n    links = [link.get(\'name\') for link in root.findall(\'link\')]\n    joints = root.findall(\'joint\')\n\n    print(f"Found {len(links)} links")\n    print(f"Found {len(joints)} joints")\n\n    # Check joint parent-child relationships\n    for joint in joints:\n        parent = joint.find(\'parent\').get(\'link\')\n        child = joint.find(\'child\').get(\'link\')\n\n        if parent not in links:\n            print(f"ERROR: Joint {joint.get(\'name\')} has invalid parent: {parent}")\n        if child not in links:\n            print(f"ERROR: Joint {joint.get(\'name\')} has invalid child: {child}")\n\n    print("Validation complete!")\n\nif __name__ == "__main__":\n    validate_urdf("my_humanoid.urdf")\n'})}),"\n",(0,l.jsx)(i.h2,{id:"complete-minimal-humanoid-example",children:"Complete Minimal Humanoid Example"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="simple_humanoid">\n\n  \x3c!-- Base Link (Pelvis) --\x3e\n  <link name="pelvis">\n    <visual>\n      <geometry>\n        <box size="0.3 0.4 0.2"/>\n      </geometry>\n      <material name="grey">\n        <color rgba="0.5 0.5 0.5 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.3 0.4 0.2"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="15.0"/>\n      <inertia ixx="0.2" ixy="0" ixz="0" iyy="0.3" iyz="0" izz="0.2"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Torso --\x3e\n  <joint name="spine" type="revolute">\n    <parent link="pelvis"/>\n    <child link="torso"/>\n    <origin xyz="0 0 0.1" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-0.3" upper="0.3" effort="50" velocity="1.0"/>\n  </joint>\n\n  <link name="torso">\n    <visual>\n      <geometry>\n        <box size="0.3 0.4 0.6"/>\n      </geometry>\n      <origin xyz="0 0 0.3" rpy="0 0 0"/>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.3 0.4 0.6"/>\n      </geometry>\n      <origin xyz="0 0 0.3" rpy="0 0 0"/>\n    </collision>\n    <inertial>\n      <mass value="30.0"/>\n      <origin xyz="0 0 0.3"/>\n      <inertia ixx="2.5" ixy="0" ixz="0" iyy="2.5" iyz="0" izz="0.5"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Head --\x3e\n  <joint name="neck" type="revolute">\n    <parent link="torso"/>\n    <child link="head"/>\n    <origin xyz="0 0 0.7" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-1.57" upper="1.57" effort="20" velocity="2.0"/>\n  </joint>\n\n  <link name="head">\n    <visual>\n      <geometry>\n        <sphere radius="0.15"/>\n      </geometry>\n    </visual>\n    <collision>\n      <geometry>\n        <sphere radius="0.15"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="5.0"/>\n      <inertia ixx="0.045" ixy="0" ixz="0" iyy="0.045" iyz="0" izz="0.045"/>\n    </inertial>\n  </link>\n\n</robot>\n'})}),"\n",(0,l.jsx)(i.h2,{id:"learning-outcomes",children:"Learning Outcomes"}),"\n",(0,l.jsx)(i.p,{children:"After completing this chapter, you should be able to:"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"Understand the structure and purpose of URDF files"}),"\n",(0,l.jsx)(i.li,{children:"Define links with appropriate visual, collision, and inertial properties"}),"\n",(0,l.jsx)(i.li,{children:"Create joints with correct axes, limits, and dynamics"}),"\n",(0,l.jsx)(i.li,{children:"Build complete kinematic chains for humanoid robots"}),"\n",(0,l.jsx)(i.li,{children:"Calculate inertial properties for robot components"}),"\n",(0,l.jsx)(i.li,{children:"Use Xacro for creating modular, reusable robot descriptions"}),"\n",(0,l.jsx)(i.li,{children:"Validate and visualize URDF models"}),"\n",(0,l.jsx)(i.li,{children:"Add sensors to robot descriptions"}),"\n"]}),"\n",(0,l.jsx)(i.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"URDF is the standard format for robot description in ROS"}),"\n",(0,l.jsx)(i.li,{children:"Accurate inertial properties are critical for simulation and control"}),"\n",(0,l.jsx)(i.li,{children:"Humanoid robots require complex kinematic chains with many degrees of freedom"}),"\n",(0,l.jsx)(i.li,{children:"Xacro enables modularity and reduces repetition in URDF files"}),"\n",(0,l.jsx)(i.li,{children:"Simplified collision geometries improve simulation performance"}),"\n",(0,l.jsx)(i.li,{children:"Always validate your URDF before deploying to simulation or hardware"}),"\n"]}),"\n",(0,l.jsx)(i.hr,{}),"\n",(0,l.jsxs)(i.p,{children:[(0,l.jsx)(i.strong,{children:"Next"}),": We'll explore physics simulation and environment building in Gazebo, where your URDF models come to life."]})]})}function h(n={}){const{wrapper:i}={...(0,t.R)(),...n.components};return i?(0,l.jsx)(i,{...n,children:(0,l.jsx)(c,{...n})}):c(n)}},8453:(n,i,e)=>{e.d(i,{R:()=>o,x:()=>a});var r=e(6540);const l={},t=r.createContext(l);function o(n){const i=r.useContext(t);return r.useMemo(function(){return"function"==typeof n?n(i):{...i,...n}},[i,n])}function a(n){let i;return i=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:o(n.components),r.createElement(t.Provider,{value:i},n.children)}}}]);